@model MovieReviewWebsite.Models.Person
@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!DOCTYPE html>
<html>
<body>
    <h2>Details</h2>
    <div>
        <script>
            function RedirectToPeopleDetails() {
                window.location = ""
            }
        </script>
        <h4>Person</h4>
        <hr />
        <dl class="dl-horizontal">


            <dt>
                Name
            </dt>
            <dd>
                @Html.DisplayFor(model => model.personName)
            </dd>
            <dt>
                Surname
            </dt>
            <dd>
                @Html.DisplayFor(model => model.personSurname)
            </dd>
            <dt>
                Date of Birth
            </dt>
            <dd>
                @Html.DisplayFor(model => model.dateOfBirth)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.Movies)
            </dt>
            <dt>
                @foreach (var item in Model.Movies)
                {
                <dd>
                    @Html.ActionLink(item.MovieName + " " + item.Description, "Details", "Movies", new { id = item.MovieID }, null)
                </dd>
            }

                <dt>
                    Role
                </dt>
                <dd>
                    @Html.DisplayFor(model => model.personRole)
                </dd>
                <dt>Comment</dt>


                @foreach (var item in Model.Comment)
                {
                    if (item.PersonID == Model.personID)
                    {
                        <dd>
                            @if (item.CommentID == Int32.Parse(Request.Params["CommentID"]))
                            {
                            <dd>
                                @using (Html.BeginForm())
                                {
                                    @Html.TextBoxFor(model => model.personID, new { style = "display: none;" })
                                    @Html.TextArea("Comment", "")


                                    <input type="submit" value="reply" onclick="ReirectToPeopleDetails()" />
                                }

                            </dd>
                        }
                            <nbsp style="font-size:8px"> -post by ID @Html.DisplayFor(Model => item.PersonID)</nbsp>

                            @Html.DisplayFor(Model => item.Content)
                            @Html.ActionLink("Comment", "CommentReply", new { id = item.MovieID, commentID = item.CommentID }, null)



                            </dd>
                    }

                 }

                <br />
                <br />
                <br />
                <br />
                <br />
                <br />
                <br />
                <br />
                <br />

                <dt>

                    New Comment
                </dt>

                <dd>
                    qweqweqweqwe
                    @using (Html.BeginForm())
                    {


                        @Html.TextBoxFor(model => model.personID, new { style = "display: none;" })
                        @Html.TextArea("NewComment", "");

                        <input type="submit" value="send" />

                    }
                </dd>


                <p>
                    @Html.ActionLink("Edit", "Edit", new { id = Model.personID }) |
                    @Html.ActionLink("Back to List", "Index")
                </p>
            </dl>
            </div>


        </body>
    </html>